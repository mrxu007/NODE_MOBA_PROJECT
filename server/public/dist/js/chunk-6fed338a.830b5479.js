(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6fed338a"],{"00e2":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v(e._s(e.id?"编辑":"新建")+"分类")]),n("el-divider"),n("el-form",{attrs:{inline:!1,"label-width":"80px",size:"normal"}},[n("el-form-item",{attrs:{label:"上级分类"}},[n("el-select",{attrs:{placeholder:"请选择上级分类"},model:{value:e.model.parent,callback:function(t){e.$set(e.model,"parent",t)},expression:"model.parent"}},e._l(e.parents,(function(e,t){return n("el-option",{key:t,attrs:{label:e.name,value:e._id}})})),1)],1),n("el-form-item",{attrs:{label:"分类名称"}},[n("el-input",{model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")])],1)],1)],1)},a=[],c=(n("b0c0"),n("96cf"),n("1da1")),i={props:{id:{}},data:function(){return{model:{name:"",parent:""},parents:[]}},mounted:function(){this.fetchParents(),this.id&&this.findById()},methods:{save:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.id){t.next=5;break}return t.next=3,e.$http.put("/crud/categories/".concat(e.id),e.model);case 3:t.next=7;break;case 5:return t.next=7,e.$http.post("/crud/categories",e.model.parent?e.model:{name:e.model.name});case 7:e.$router.push("/categories/list");case 8:case"end":return t.stop()}}),t)})))()},findById:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/crud/categories/".concat(e.id));case 2:n=t.sent,e.model.parent=n.data.data.parent,e.model.name=n.data.data.name;case 5:case"end":return t.stop()}}),t)})))()},fetchParents:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/crud/categories/list");case 2:n=t.sent,e.parents=n.data.data;case 4:case"end":return t.stop()}}),t)})))()}}},o=i,s=(n("a698"),n("2877")),u=Object(s["a"])(o,r,a,!1,null,"16ea861f",null);t["default"]=u.exports},a698:function(e,t,n){"use strict";var r=n("c119"),a=n.n(r);a.a},b0c0:function(e,t,n){var r=n("83ab"),a=n("9bf2").f,c=Function.prototype,i=c.toString,o=/^\s*function ([^ (]*)/,s="name";r&&!(s in c)&&a(c,s,{configurable:!0,get:function(){try{return i.call(this).match(o)[1]}catch(e){return""}}})},c119:function(e,t,n){}}]);
//# sourceMappingURL=chunk-6fed338a.830b5479.js.map